<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task Manager - Tasks</title>
    <link rel="stylesheet" href="/styles.css" />
</head>
<body>
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle">
        <span id="themeIcon">🌙</span>
        <span id="themeText">Dark</span>
    </button>

    <div class="container">
        <header class="header">
            <h1>📋 Your Tasks</h1>
            <div class="header-actions">
                <span id="userGreeting" style="color: var(--text-secondary); margin-right: 12px;"></span>
                <button id="logoutBtn" class="btn-danger">Logout</button>
            </div>
        </header>

        <section class="controls">
            <h3>➕ Add New Task</h3>
            <form id="taskForm" class="inline">
                <input type="text" id="title" placeholder="Task title" required />
                <input type="number" id="estimatedHours" placeholder="Est. hours" min="0" step="0.1" required />
                <input type="number" id="actualHours" placeholder="Act. hours" min="0" step="0.1" required />
                <select id="status">
                    <option>Pending</option>
                    <option>In Progress</option>
                    <option>Done</option>
                </select>
                <button type="submit" class="btn-success">Add Task</button>
            </form>
        </section>

        <section class="controls">
            <h3>🔍 Filter & Search</h3>
            <div class="filters inline">
                <select id="filterStatus">
                    <option value="">All Status</option>
                    <option value="Pending">Pending</option>
                    <option value="In Progress">In Progress</option>
                    <option value="Done">Done</option>
                </select>
                <input type="text" id="search" placeholder="Search by title..." />
                <button id="applyFilters" class="btn-primary">Apply Filters</button>
                <button id="clearFilters" class="btn-secondary">Clear</button>
            </div>
        </section>

        <section class="table-container">
            <table class="table">
                <thead>
                    <tr>
                        <th>Title</th>
                        <th>Status</th>
                        <th>Completed</th>
                        <th>Est. Hours</th>
                        <th>Act. Hours</th>
                        <th>Efficiency %</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="tasksBody"></tbody>
            </table>
            <div id="emptyState" class="empty-state" style="display: none;">
                <div style="font-size: 64px; margin-bottom: 16px;">📭</div>
                <h3>No tasks found</h3>
                <p>Create your first task to get started!</p>
            </div>
            <div class="pagination" id="pagination"></div>
            <p id="tasksMessage" class="message"></p>
        </section>
    </div>

    <script src="/script.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const token = localStorage.getItem('token');
            if (!token) window.location.href = '/';
        });
    </script>
</body>
</html>


